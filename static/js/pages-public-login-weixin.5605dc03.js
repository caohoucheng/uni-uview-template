(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-login-weixin"],{"1b37":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("d6f7")),o=i(n("99ec")),r={name:"u--image",mixins:[uni.$u.mpMixin,o.default,uni.$u.mixin],components:{uvImage:a.default}};t.default=r},"1f79":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uvImage",{attrs:{src:e.src,mode:e.mode,width:e.width,height:e.height,shape:e.shape,radius:e.radius,lazyLoad:e.lazyLoad,showMenuByLongpress:e.showMenuByLongpress,loadingIcon:e.loadingIcon,errorIcon:e.errorIcon,showLoading:e.showLoading,showError:e.showError,fade:e.fade,webp:e.webp,duration:e.duration,bgColor:e.bgColor,customStyle:e.customStyle},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click")},error:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("error")},load:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("load")}},scopedSlots:e._u([{key:"loading",fn:function(){return[e._t("loading")]},proxy:!0},{key:"error",fn:function(){return[e._t("error")]},proxy:!0}],null,!0)})},o=[]},"40d6":function(e,t,n){"use strict";var i=n("f88a"),a=n.n(i);a.a},"50eb":function(e,t,n){"use strict";n.r(t);var i=n("1f79"),a=n("f7df");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var r,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=s.exports},"587e":function(e,t,n){"use strict";n.r(t);var i=n("d056"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},6060:function(e,t,n){"use strict";n.r(t);var i=n("c865"),a=n("587e");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("40d6");var r,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"a339c7e2",null,!1,i["a"],r);t["default"]=s.exports},"7e14":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";[data-v-4d086a7e]:export{themeColor:#0170fe}\n/**\n * 内置的常用样式变量\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-4d086a7e], uni-scroll-view[data-v-4d086a7e], uni-swiper-item[data-v-4d086a7e]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-image[data-v-4d086a7e]{position:relative;transition:opacity .5s ease-in-out}.u-image__image[data-v-4d086a7e]{width:100%;height:100%}.u-image__loading[data-v-4d086a7e], .u-image__error[data-v-4d086a7e]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#f3f4f6;color:#909193;font-size:%?46?%}',""]),e.exports=t},"8504d":function(e,t,n){"use strict";n.r(t);var i=n("f3fc"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},"97ce":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";[data-v-a339c7e2]:export{themeColor:#0170fe}\n/**\n * 内置的常用样式变量\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.wx-login[data-v-a339c7e2]{padding-top:%?160?%;text-align:center;color:#909193}.wx-login .avatar-box[data-v-a339c7e2]{position:relative;width:%?160?%;height:%?160?%;margin:0 auto}.wx-login .nickName[data-v-a339c7e2]{margin-top:%?30?%;height:%?30?%;line-height:%?30?%}.wx-login .wx-icon[data-v-a339c7e2]{position:absolute;border:%?4?% solid #fff;bottom:%?0?%;right:%?0?%;background:#fff;border-radius:50%}.wx-login .operation[data-v-a339c7e2]{width:64%;margin:%?80?% auto}',""]),e.exports=t},"980b":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uTransition:n("9be3").default,uIcon:n("01bb").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("u-transition",{attrs:{mode:"fade",show:e.show,duration:e.fade?1e3:0}},[n("v-uni-view",{staticClass:"u-image",style:[e.wrapStyle,e.backgroundStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.isError?e._e():n("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==e.shape?"10000px":e.$u.addUnit(e.radius),width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)},attrs:{src:e.src,mode:e.mode,"show-menu-by-longpress":e.showMenuByLongpress,"lazy-load":e.lazyLoad},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.onErrorHandler.apply(void 0,arguments)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.onLoadHandler.apply(void 0,arguments)}}}),e.showLoading&&e.loading?n("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.radius),backgroundColor:this.bgColor,width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}},[e._t("loading",[n("u-icon",{attrs:{name:e.loadingIcon,width:e.width,height:e.height}})])],2):e._e(),e.showError&&e.isError&&!e.loading?n("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.radius),width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}},[e._t("error",[n("u-icon",{attrs:{name:e.errorIcon,width:e.width,height:e.height}})])],2):e._e()],1)],1)},o=[]},"99ec":function(e,t,n){"use strict";n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{src:{type:String,default:uni.$u.props.image.src},mode:{type:String,default:uni.$u.props.image.mode},width:{type:[String,Number],default:uni.$u.props.image.width},height:{type:[String,Number],default:uni.$u.props.image.height},shape:{type:String,default:uni.$u.props.image.shape},radius:{type:[String,Number],default:uni.$u.props.image.radius},lazyLoad:{type:Boolean,default:uni.$u.props.image.lazyLoad},showMenuByLongpress:{type:Boolean,default:uni.$u.props.image.showMenuByLongpress},loadingIcon:{type:String,default:uni.$u.props.image.loadingIcon},errorIcon:{type:String,default:uni.$u.props.image.errorIcon},showLoading:{type:Boolean,default:uni.$u.props.image.showLoading},showError:{type:Boolean,default:uni.$u.props.image.showError},fade:{type:Boolean,default:uni.$u.props.image.fade},webp:{type:Boolean,default:uni.$u.props.image.webp},duration:{type:[String,Number],default:uni.$u.props.image.duration},bgColor:{type:String,default:uni.$u.props.image.bgColor}}};t.default=i},a9a2:function(e,t,n){"use strict";var i=n("aa7f"),a=n.n(i);a.a},aa7f:function(e,t,n){var i=n("7e14");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("22c49fae",i,!0,{sourceMap:!1,shadowMode:!1})},c865:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={pageLayout:n("32a6").default,"u-Image":n("50eb").default,uIcon:n("01bb").default,uButton:n("4d93").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{ref:"PageLayout"},[n("v-uni-view",{staticClass:"wx-login"},[n("v-uni-view",{staticClass:"avatar-box"},[n("v-uni-view",{staticClass:"avatar-img animated",class:e.userInfo.nickName?"rotateIn":""},[n("u--image",{attrs:{src:e.userInfo.avatarUrl,shape:"circle",width:"160rpx",height:"160rpx"},scopedSlots:e._u([{key:"error",fn:function(){return[n("v-uni-view",{staticStyle:{"font-size":"20rpx"}},[e._v("授权显示")])]},proxy:!0}])})],1),n("v-uni-view",{staticClass:"wx-icon animated",class:e.userInfo.nickName?"bounce":""},[n("u-icon",{attrs:{name:"weixin-circle-fill",color:"#4ecb27",size:"20"}})],1)],1),n("v-uni-view",{staticClass:"nickName"},[e.userInfo.nickName?n("v-uni-text",[e._v(e._s(e.userInfo.nickName))]):e._e()],1),n("v-uni-view",{staticClass:"operation"},[n("u-button",{staticClass:"btn",attrs:{type:"primary",text:"登录",shape:"circle"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}}})],1),n("v-uni-view",[e._v("code:"+e._s(e.code))]),n("v-uni-view",[e._v("unionid:"+e._s(e.unionid))]),n("v-uni-view",[e._v("access_token:"+e._s(e.access_token))])],1)],1)},o=[]},d056:function(e,t,n){"use strict";n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"weixin",components:{},data:function(){return{code:"",unionid:"",access_token:"",userInfo:{avatarUrl:"随便给个值,只要加载不出就行,比如这段文字,不然不进入error插槽"}}},onLoad:function(){},methods:{login:function(){this.getOpenId()},getUserProfile:function(){var e=this;uni.getUserProfile({desc:"用于完善用户资料",success:function(t){uni.setStorageSync("encryptedData",t.encryptedData),uni.setStorageSync("iv",t.iv),uni.setStorageSync("userInfo",JSON.stringify(t.userInfo)),e.userInfo=t.userInfo}})},getOpenId:function(){var e=this;uni.getProvider({service:"oauth",success:function(t){console.log(t),~t.provider.indexOf("weixin")&&uni.login({provider:"weixin",success:function(t){console.log("code:",t),e.code=t.code||"无",e.access_token=t.authResult?t.authResult.access_token:"无",e.unionid=t.authResult?t.authResult.unionid:"无"}})}})}},computed:{}};t.default=i},d6f7:function(e,t,n){"use strict";n.r(t);var i=n("980b"),a=n("8504d");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("a9a2");var r,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"4d086a7e",null,!1,i["a"],r);t["default"]=s.exports},f3fc:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("99ec")),o={name:"u-image",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1}},watch:{src:{immediate:!0,handler:function(e){e?(this.isError=!1,this.loading=!1):this.isError=!0}}},computed:{wrapStyle:function(){var e={};return e.width=this.$u.addUnit(this.width),e.height=this.$u.addUnit(this.height),e.borderRadius="circle"==this.shape?"10000px":uni.$u.addUnit(this.radius),e.overflow=this.borderRadius>0?"hidden":"visible",uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},mounted:function(){this.show=!0},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler:function(){this.loading=!1,this.isError=!1,this.$emit("load"),this.removeBgColor()},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};t.default=o},f7df:function(e,t,n){"use strict";n.r(t);var i=n("1b37"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},f88a:function(e,t,n){var i=n("97ce");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("54487dbc",i,!0,{sourceMap:!1,shadowMode:!1})}}]);